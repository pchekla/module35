@using System.Text.Encodings.Web

@if (TempData["SuccessMessage"] != null)
{
    <div class="notification success-notification">
        <div class="notification-content">
            <i class="bi bi-check-circle-fill"></i>
            <span>@TempData["SuccessMessage"]</span>
        </div>
        <button class="close-notification">
            <i class="bi bi-x"></i>
        </button>
    </div>
}

@if (TempData["ErrorMessage"] != null)
{
    <div class="notification error-notification">
        <div class="notification-content">
            <i class="bi bi-exclamation-triangle-fill"></i>
            <span>@TempData["ErrorMessage"]</span>
        </div>
        <button class="close-notification">
            <i class="bi bi-x"></i>
        </button>
    </div>
}

@if (TempData["InfoMessage"] != null)
{
    <div class="notification info-notification">
        <div class="notification-content">
            <i class="bi bi-info-circle-fill"></i>
            <span>@TempData["InfoMessage"]</span>
        </div>
        <button class="close-notification">
            <i class="bi bi-x"></i>
        </button>
    </div>
}

<script>
    // Вызываем toastr напрямую, предполагая, что он уже инициализирован в _Layout.cshtml
    @if (TempData["SuccessMessage"] != null)
    {
        <text>toastr.success("@JavaScriptEncoder.Default.Encode(TempData["SuccessMessage"].ToString() ?? string.Empty)", "Успех");</text>
    }
    @if (TempData["ErrorMessage"] != null)
    {
        <text>toastr.error("@JavaScriptEncoder.Default.Encode(TempData["ErrorMessage"].ToString() ?? string.Empty)", "Ошибка");</text>
    }
    @if (TempData["InfoMessage"] != null)
    {
        <text>toastr.info("@JavaScriptEncoder.Default.Encode(TempData["InfoMessage"].ToString() ?? string.Empty)", "Информация");</text>
    }
    @if (TempData["WarningMessage"] != null)
    {
         <text>toastr.warning("@JavaScriptEncoder.Default.Encode(TempData["WarningMessage"].ToString() ?? string.Empty)", "Предупреждение");</text>
    }
</script> 